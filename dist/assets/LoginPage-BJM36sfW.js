import{r as a,f as V,j as e,u as D}from"./index-Cxn_-gMb.js";import{a as J}from"./index-BQ4eWZwq.js";import{c as P}from"./utils-DWn52pq6.js";import{T as A}from"./TranslatedInput-B-Yt9xY5.js";import{T as S}from"./TemplatePageCtxProvider-Dpw-XWAv.js";import{u as O}from"./useTranslation-CrG5dD_n.js";import{F as j}from"./index-Bvrkltx6.js";import{B as L}from"./button-B0XcDbSf.js";import{C as M}from"./index-N8rc19uA.js";import{s as h}from"./index-Dgy9QLG3.js";import{I as G}from"./Compact-BDAo3LEK.js";import"./iconBase-DoMbJ_3C.js";import"./colors-BPo1_XDM.js";import"./index-Dj5Owf14.js";import"./TextArea-CIIm7Cjd.js";import"./CloseOutlined-U-o303_c.js";import"./compact-item-Bj-Dyp9S.js";import"./pickAttrs-B0SgV4ze.js";import"./collapse-BbEVqHco.js";import"./index-0QHVce1b.js";import"./row-BnMpXTUR.js";import"./useBreakpoint-OwzyyQbf.js";var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Z=function(s,i){return a.createElement(G,V({},s,{ref:i,icon:K}))},$=a.forwardRef(Z);const Q="_flip_card_f8qce_1",W="_inner_f8qce_10",X="_auto_flip_f8qce_21",Y="_manual_flip_f8qce_21",ee="_front_f8qce_33",te="_back_f8qce_34",g={flip_card:Q,inner:W,auto_flip:X,manual_flip:Y,front:ee,back:te},se=a.memo(({children:t,width:s="350px",height:i="600px",flipType:l="500px",isManualFlipped:p=null})=>{const x=a.useRef(null),_=a.useRef(null),d=a.useRef(null),[v,k]=a.useState(void 0);console.log("height :>> ",v),a.useEffect(()=>{const b=()=>{var r,c;console.log("frontRef.current, backRef.current, containerRef   :>> ",_.current,d.current,x);const R=((r=_.current)==null?void 0:r.offsetHeight)||0,o=((c=d.current)==null?void 0:c.offsetHeight)||0,m=Math.max(R,o);k(m)},u=new ResizeObserver(b);return _.current&&u.observe(_.current),d.current&&u.observe(d.current),b(),()=>u.disconnect()},[t]);const I={width:s,height:i},N=`${g.flip_card} ${l==="auto"?g.auto_flip:p?g.manual_flip:""}
    ${p?g.is_flipped:""}
    `;return e.jsx("div",{ref:x,className:N,style:I,children:e.jsxs("div",{className:g.inner,children:[e.jsx("div",{ref:_,className:g.front,children:t[0]}),e.jsx("div",{ref:d,className:g.back,children:t[1]})]})})}),ne="/assets/girl-profile-BDDZavRA.png",oe="/assets/man-profile-BKOCb_9_.png",re="_content_16n3k_3",ie="_title_16n3k_20",ce="_avatar_16n3k_28",ae="_form_16n3k_33",le="_img_16n3k_41",me="_input_container_16n3k_49",pe="_options_16n3k_56",_e="_remember_option_16n3k_65",de="_checkbox_16n3k_71",fe="_forgot_16n3k_75",ge="_bttn_container_16n3k_87",ue="_relocate_bttn_16n3k_96",he="_submit_bttn_16n3k_109",n={content:re,title:ie,avatar:ce,form:ae,img:le,input_container:me,options:pe,remember_option:_e,checkbox:de,forgot:fe,bttn_container:ge,relocate_bttn:ue,submit_bttn:he},xe=()=>{const[t,s]=a.useState(!1),{t:i}=O(),l=()=>{s(p=>!p)};return e.jsxs("div",{className:n.remember_option,children:[e.jsx(j.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e.jsx(M,{className:n.checkbox,children:i("Remember me")})}),e.jsx("span",{className:n.forgot,onClick:l,children:i("Forgot Password?")}),t&&e.jsx("div",{children:"modal"})]})},be=()=>{const{t}=O();return e.jsx(j.Item,{name:"terms",valuePropName:"checked",children:e.jsx(M,{className:n.checkbox,children:t("I agree to the Terms and Conditions")})})},y=({handleCardChange:t,type:s,inputItems:i})=>{const{t:l}=O(),p=D(),x=`${s}-profile-img`,_=s==="login"?ne:oe,d=l(P(s)),v=P(s),k=s==="login"?"register":"login",I=i.map(({id:o,name:m,placeholder:r,type:c,icon:f,rules:w})=>{const H=l(r||m),E=w==null?void 0:w.map(({required:z,message:C})=>{const B=C||`${H} is required!`,U=l(B);return{required:z,message:U}}),T=`${s}_${o}`,q=`${m}`;return e.jsx(j.Item,{name:q,rules:E,children:e.jsx(A,{type:c,className:n.input,placeholder:r,prefix:f})},T)}),N=({email:o,password:m})=>{try{const r=localStorage.getItem("loginItems");let c=null;if(r)c=JSON.parse(r);else{t(),h.error("User not exist! Please register!");return}const f=c[o];console.log("userExist :>> ",f),f?f.password===m?(p(`../template/${S[0]}`),h.success("User is logged in!"),localStorage.setItem("login",o)):(h.error("Password is not correct!"),t()):(h.error("User not exist! Please register!"),t())}catch(r){console.error("Something went wrong during login/registration",r),h.error("User not exist! Please register!"),t()}},b=({email:o,password:m})=>{const r=localStorage.getItem("loginItems"),c=r?JSON.parse(r):{},f={email:o,password:m};c[o]=f,localStorage.setItem("loginItems",JSON.stringify(c)),localStorage.setItem("login",o),p(`../template/${S[0]}`)},u=o=>{console.log("Form Values:",o),s==="login"?N(o):b(o)},R=()=>{t()};return e.jsxs("div",{className:n.content,children:[e.jsxs("div",{style:{flexShrink:0},children:[e.jsx("h1",{className:n.title,children:v}),e.jsx("div",{className:n.avatar,children:e.jsx("img",{src:_,alt:x,className:n.img})})]}),e.jsxs(j,{onFinish:u,layout:"vertical",className:n.form,children:[e.jsx("div",{className:n.input_container,children:I}),e.jsx("div",{className:n.options,children:s==="login"?e.jsx(xe,{}):e.jsx(be,{})}),e.jsxs("div",{className:n.bttn_container,children:[e.jsxs(L,{className:n.relocate_bttn,onClick:R,children:[e.jsx("span",{children:"Go to"}),e.jsx("span",{children:k})]}),e.jsx(L,{type:"primary",htmlType:"submit",className:n.submit_bttn,children:d})]})]})]})};let F=[{id:"email",name:"email",placeholder:"email",type:"email",icon:e.jsx(J,{}),rules:[{required:!0}]},{id:"passwd",name:"password",placeholder:"password",icon:e.jsx($,{}),type:"password"}];const je=[...F,{id:"c_passwd",name:"confirmed_password",placeholder:"password",icon:e.jsx($,{}),type:"password"}],ve=()=>{const[t,s]=a.useState(!1),i=()=>{s(l=>!l)};return e.jsxs(se,{flipType:"manual",isManualFlipped:t,children:[e.jsx(y,{handleCardChange:i,inputItems:F,type:"login"}),e.jsx(y,{handleCardChange:i,inputItems:je,type:"register"})]})},ke="_container_1onzx_1",Ie={container:ke},Ae=()=>e.jsx("div",{className:Ie.container,children:e.jsx(ve,{})});export{Ae as default};
